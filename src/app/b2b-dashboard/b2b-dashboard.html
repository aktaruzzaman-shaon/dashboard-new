<div class="">
  <div class="app-container flex flex-wrap items-end gap-4 w-full p-4">
    <!-- ======Travel Date range selection input ========-->
    <app-input-selector
      label="Travel Date Range"
      [options]="availableDateRanges"
    ></app-input-selector>

    <!-- ========== Travel Date FROM and TO  =========== -->
    <app-calender
      label="Travel Date To"
      placeholder="DD/MM/YYYY"
      [selectedDate]="travelDateTo()"
      (dateSelected)="onDateToSelected($event)"
    ></app-calender>
    <app-calender
      label="Travel Date To"
      placeholder="DD/MM/YYYY"
      [selectedDate]="travelDateTo()"
      (dateSelected)="onDateToSelected($event)"
    ></app-calender>

    <!-- ========== City Select =========== -->
    <app-single-select
      label="City"
      [items]="options"
      (selectChange)="onSelect($event)"
    ></app-single-select>

    <!-- ========== Supplier Status =========== -->
    <app-select-menu
      label="Supplier Status"
      [options]="roleOptions()"
      placeholder="Choose an Action"
      (onSelection)="handleData($event)"
    >
    </app-select-menu>

    <!-- ========== Yacht Type =========== -->
    <app-select-menu
      label="Yacht Type"
      [options]="roleOptions()"
      placeholder="Choose an Action"
      (onSelection)="handleData($event)"
    >
    </app-select-menu>

    <!-- ========== Booking Reference =========== -->
    <app-input-core label="Booking Reference Number"></app-input-core>

    <!-- ========== Advanced Search Portion =========== -->
    <button (click)="open()">Advance Access</button>
    <app-toggle-component-container [isOpen]="isContainerOpen()" (closed)="close()">
      <app-single-select></app-single-select>
      <app-single-select></app-single-select>
      <app-single-select></app-single-select>
      <app-single-select></app-single-select>
      <app-single-select></app-single-select>
    </app-toggle-component-container>
  </div>

  <!-- =============== Table Portions  ======================== -->
  <div class="app-container">
    <div class="flex justify-between">
      <!-- table status button -->
      <div class="flex gap-3 justify-start">
        @for (status of statuses(); track status.value) {
          <app-status-button
            [data]="status"
            [active]="activeStatus() === status.value"
            [color]="
              status.value === 'approved' ? 'sky' : status.value === 'rejected' ? 'sky' : 'sky'
            "
            [loading]="isLoading() && activeStatus() === status.value"
            size="md"
            (clicked)="onStatusClick($event)"
          />
        }
      </div>
      <div>
        <!-- <div (click)="openTableRowModificationContainer()">Open</div> -->
        <app-settings-button
          label="Column Selection"
          buttonLabel="Default"
          (onButtonClick)="resetToDefault()"
          (onIconClick)="openTableRowModificationContainer()"
        >
          ></app-settings-button
        >
      </div>
    </div>
    <!-- table row modification toggle buttons -->
    <div class="mt-5">
      <app-toggle-component-container
        [isOpen]="isTableModificationContainerOpen()"
        (closed)="closeTableRowModificationContainer()"
      >
        <div class="grid md:grid-cols-5 sm:grid-cols-2 sm:gap-x-20 md:gap-x-1.5 md:gap-y-1.5">
          @for (singleColumn of tableColumns; track singleColumn.key) {
            <app-toggle-button
              [label]="singleColumn.label"
              [(checked)]="columnVisibility()[singleColumn.key]"
              (filterChanged)="onFilterUpdate(singleColumn.key, $event)"
            ></app-toggle-button>
          }
        </div>
      </app-toggle-component-container>
    </div>
    <div>
      <app-table [columns]="tableColumns" [columnVisibility]="columnVisibility()"></app-table>
    </div>
  </div>
</div>
